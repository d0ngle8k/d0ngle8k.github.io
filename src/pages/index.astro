---
import Base from '../layouts/Base.astro';
import { Starfield } from '../components/Starfield';
import { ArcadeIntro } from '../components/ArcadeIntro';
import { posts } from '../data/posts';
import { projects } from '../data/projects';

const recentPosts = posts.slice(0, 3);
const recentProjects = projects.slice(0, 3);
---
<Base title="Truong Gia Thanh | Portfolio">
  <section class="relative isolate overflow-hidden" id="top">
    <div class="absolute inset-0">
      <Starfield client:load />
    </div>
    <div class="relative mx-auto flex min-h-[70vh] max-w-4xl flex-col items-center justify-center gap-6 px-6 text-center">
      <p class="text-secondary text-sm uppercase tracking-[0.3em]">Hello, I am â€¦</p>
      <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">TRUONG GIA THANH</h1>
      <p class="text-secondary max-w-xl">
        Cyber security specialist building secure systems and protecting digital infrastructure.
        I analyze threats, implement defenses, and keep systems resilient.
      </p>
      <div class="flex flex-wrap items-center justify-center gap-3">
        <a class="btn-primary" href="/blog">Read my blog</a>
        <a class="btn-ghost" href="/work">View my work</a>
      </div>
    </div>
  </section>

  <section class="mx-auto max-w-5xl px-6 py-16 space-y-6">
    <div class="card p-6 space-y-4 text-center">
      <h2 class="text-xl font-semibold">About Me</h2>
      <p class="text-secondary">
        Esport Game Enjoyer and Cybersecurity Researcher. I don't code like a bot, I find real problems to solve.
      </p>
      <div class="flex flex-wrap gap-2 text-xs justify-center">
        {['Next.js', 'Astro', 'React', 'Node.js', 'NestJS', 'PostgreSQL', 'Tailwind CSS', 'Docker'].map((t) => (
          <span class="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-secondary" key={t}>
            {t}
          </span>
        ))}
      </div>
    </div>

    <div class="card p-6">
      <ArcadeIntro client:load />
    </div>
  </section>

  <section class="mx-auto max-w-5xl px-6 pb-16 space-y-8">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold">Recent posts</h2>
      <a class="text-sm text-secondary hover:text-white" href="/blog">View all</a>
    </div>
    <div class="grid gap-4 md:grid-cols-3">
      {recentPosts.map((post) => (
        <article class="card p-4 space-y-2" key={post.slug}>
          <div class="text-xs text-secondary">{new Date(post.date).toDateString()}</div>
          <h3 class="font-semibold text-lg">{post.title}</h3>
          <p class="text-secondary text-sm">{post.excerpt}</p>
          <div class="flex flex-wrap gap-2 text-[11px] text-secondary">
            {post.tags.map((tag) => (
              <span class="rounded-full border border-white/10 bg-white/5 px-2 py-1" key={tag}>{tag}</span>
            ))}
          </div>
        </article>
      ))}
    </div>
  </section>

  <section class="mx-auto max-w-5xl px-6 pb-20 space-y-8">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold">Projects</h2>
      <a class="text-sm text-secondary hover:text-white" href="/projects">View all</a>
    </div>
    <div class="grid gap-4 md:grid-cols-3">
      {recentProjects.map((project) => (
        <article class="card p-4 space-y-2" key={project.slug}>
          <div class="text-xs text-secondary">{new Date(project.date).toDateString()}</div>
          <h3 class="font-semibold text-lg">{project.title}</h3>
          <p class="text-secondary text-sm">{project.summary}</p>
          <div class="flex flex-wrap gap-2 text-[11px] text-secondary">
            {project.tags.map((tag) => (
              <span class="rounded-full border border-white/10 bg-white/5 px-2 py-1" key={tag}>{tag}</span>
            ))}
          </div>
        </article>
      ))}
    </div>
  </section>
</Base>
